{"body": [{"indent": 0, "text": ["Vellum Source"], "type": "title", "extent": [84, 102], "level": 0}, {"indent": 0, "type": "summary", "extent": [102, 153], "text": ["A Vellum node that creates Vellum patches."]}, {"indent": 0, "type": "para", "extent": [153, 405], "text": ["Vellum Source emits new patches of Vellum geometry into a Vellum solver.\nVellum patches consist of both the geometry of the patch and the geometry\ndescribing the constraints on the patch, so some bookkeeping is required\nto update everything properly."]}, {"indent": 0, "type": "para", "extent": [405, 764], "text": ["A Vellum simulation object has Geometry data which describes the surface\nof the patch.  It has ConstraintGeometry data which describes the\nconstraints holding the patch together, and should be a one-to-one\nmatching of points with the Geometry data.  Finally, a PatchGeometry\ndata stores the names of all the patches to tell if they have\nbeen emitted or not."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [808, 862], "text": ["Controls if the Vellum source will emit or not."]}], "indent": 0, "text": ["Activation"], "role": "item", "attrs": {"id": "activate"}, "extent": [776, 789], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [896, 955], "text": ["How patches will be emitted from the source geometry."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [970, 1107], "text": ["The geometry will only be added once to the Vellum object.  Note\n        the patch name is used to detect if it has been added."]}], "indent": 4, "type": "dt", "extent": [955, 970], "text": ["Only Once"]}, {"body": [{"indent": 8, "type": "para", "extent": [1123, 1247], "text": ["Geometry is added every frame that this DOP is active.   Does\n        not add during substeps, only on new frames."]}], "indent": 4, "type": "dt", "extent": [1107, 1123], "text": ["Continuous"]}, {"body": [{"indent": 8, "type": "para", "extent": [1271, 1596], "text": ["Like continuous emission, geometry is added every frame the\n        DOP is active.  However, a point geometry is also provided\n        to instance the patches on.   The point geometry\u2019s instance\n        attributes (like ", {"text": ["orient"], "type": "code"}, " and ", {"text": ["N"], "type": "code"}, ") are used to instance the\n        patch; matching the Copy to Points behavior."]}], "indent": 4, "type": "dt", "extent": [1247, 1271], "text": ["Instance on Points"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Emission Type"], "role": "item", "attrs": {"id": "emittype"}, "extent": [862, 877], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1638, 1709], "text": ["Path to a SOP to fetch the surface geometry of the Vellum patch."]}], "indent": 0, "text": ["SOP Path"], "role": "item", "attrs": {"id": "soppath"}, "extent": [1609, 1620], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1743, 1943], "text": ["SOP Path to use as the target for the Vellum patch.  When points\n    are set to follow the target animation, this is the path used.\n    Note that the path will be re-evaluated at every substep."]}], "indent": 0, "text": ["Target Path"], "role": "item", "attrs": {"id": "targetpath"}, "extent": [1709, 1722], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1989, 2272], "text": ["Path to a SOP to fetch the constraint geometry of the Vellum patch.\n    Should be in a one-to-one point correspondence of the surface geometry.\n    Note that because you cannot point to an extra output, you may need\n    a Null SOP to act as a target to a Vellum Constraint SOP."]}], "indent": 0, "text": ["Constraint SOP Path"], "role": "item", "attrs": {"id": "constraintpath"}, "extent": [1943, 1964], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2312, 2529], "text": ["In instance mode, this SOP\u2019s geometry will be used to instance\n    Vellum patches.   A patch will be created for every point in this\n    geometry and positioned and oriented according to the point\u2019s attributes."]}], "indent": 0, "text": ["Instance Points"], "role": "item", "attrs": {"id": "instancepath"}, "extent": [2272, 2289], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2569, 2837], "text": ["All the points of the Vellum patch will gain a ", {"text": ["patchname"], "type": "code"}, " attribute\n    with this value.  This is used to recognize if a patch already exists\n    for the Emit Once mode, and can be used to separate out the different\n    patches after the simulation is complete."]}], "indent": 0, "text": ["Vellum Patch Name"], "role": "item", "attrs": {"id": "vellumname"}, "extent": [2529, 2548], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Source"], "extent": [1596, 1609], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2885, 3080], "text": ["POP forces can be applied to a Vellum patch by wiring them after\n    the Vellum Source node.   The streamname allows the POP forces\n    to properly isolate their behavior to a single patch."]}], "indent": 0, "text": ["Stream Name"], "role": "item", "attrs": {"id": "streamname"}, "extent": [2850, 2864], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Stream"], "extent": [2837, 2850], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3129, 3311], "text": ["When fetching the geometry from other SOPs, the other SOPs\n    world transform usually must be applied to transform to\n    the right space.   This is the Into This Object mode."]}, {"indent": 4, "type": "para", "extent": [3311, 3498], "text": ["However, if the DOP solver is inside a sop, and the source\n    are other sops at the same level, using the world transform\n    will double apply it and the None mode should be used."]}], "indent": 0, "text": ["Transform"], "role": "item", "attrs": {"id": "importxform"}, "extent": [3095, 3107], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3526, 3611], "text": ["Name of the data on the simulation object to use for the surface\n    geometry."]}], "indent": 0, "text": ["Geometry"], "role": "item", "attrs": {"id": "bindgeo"}, "extent": [3498, 3508], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3657, 3739], "text": ["Name of the data on the simulation object to store the constraint geometry."]}], "indent": 0, "text": ["Constraint Geometry"], "role": "item", "attrs": {"id": "bindconstraint"}, "extent": [3611, 3632], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3781, 3857], "text": ["Name of the data on the simulation object to store the list of patches."]}], "indent": 0, "text": ["Patch Index Geometry"], "role": "item", "attrs": {"id": "bindpatch"}, "extent": [3739, 3761], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Bindings"], "extent": [3080, 3095], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [764, 776], "container": true, "type": "parameters_section", "id": "parameters"}], "summary": ["A Vellum node that creates Vellum patches."], "type": "root", "attrs": {"version": null, "namespace": null, "internal": "vellumsource", "context": "dop", "type": "node", "icon": "DOP/vellumsource"}, "title": ["Vellum Source"]}