{"body": [{"indent": 0, "text": ["Extract Transform"], "type": "title", "extent": [0, 22], "level": 0}, {"indent": 0, "type": "summary", "extent": [123, 194], "text": ["Computes the best-fit transform between two pieces of geometry."]}, {"indent": 0, "type": "para", "extent": [194, 701], "text": ["This SOP computes the transform (translation, rotation, and optionally scale) that best aligns the reference geometry\u2019s points with the target geometry.\nIf ", {"text": ["Use Piece Attribute"], "type": "ui"}, " is enabled, a transform will be computed for each piece in the geometry, instead of for the geometry as a whole.\nAdditionally, if a piece contains a single packed primitive, the SOP will compare the primitive transforms between the inputs to allow transforms to be extracted from animated packed primitives without unpacking."]}, {"indent": 0, "type": "para", "extent": [701, 979], "text": ["The output geometry of this SOP contains one point for each piece in the reference geometry, with ", {"text": ["point attributes"], "fullpath": "/copy/instanceattrs", "scheme": null, "type": "link", "value": "/copy/instanceattrs"}, " describing the transform.\nThese points can be used with the ", {"text": ["Transform Pieces SOP"], "fullpath": "/nodes/sop/xformpieces", "scheme": "Node", "type": "link", "value": "/nodes/sop/xformpieces"}, " to apply the transform to geometry."]}, {"indent": 0, "type": "para", "extent": [979, 1150], "text": ["This extraction can be useful for setting up rigid body colliders (for which an animated rigid transform is ideal) from baked geometry files that represent rigid motion."]}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [1187, 1292], "text": ["Compute a transform for the points associated with each unique value of the ", {"text": ["Piece Attribute"], "type": "ui"}, "."]}], "indent": 4, "text": ["Use Piece Attribute"], "role": "item", "extent": [1162, 1187], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1313, 1364], "text": ["The name of a string or integer attribute."]}], "indent": 4, "text": ["Piece Attribute"], "role": "item", "extent": [1292, 1313], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1385, 1470], "text": ["Specifies whether the ", {"text": ["Piece Attribute"], "type": "ui"}, " is a primitive or point attribute."]}], "indent": 4, "text": ["Attribute Class"], "role": "item", "extent": [1364, 1385], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1493, 1593], "text": ["Specifies how to compute the best-fit transform between the reference and target geometry."]}, {"body": [{"body": [{"indent": 12, "type": "para", "extent": [1627, 1719], "text": ["Finds the rigid transform that best aligns the points with the target geometry."]}], "indent": 8, "type": "dt", "extent": [1593, 1627], "text": ["Translation and Rotation"]}, {"body": [{"indent": 12, "type": "para", "extent": [1769, 1869], "text": ["Allows the points to be uniformly scaled, in addition to being translated and rotated."]}], "indent": 8, "type": "dt", "extent": [1719, 1769], "text": ["Translation, Rotation, and Uniform Scale"]}], "container": true, "type": "dt_group"}], "indent": 4, "text": ["Extraction Method"], "role": "item", "extent": [1470, 1493], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1893, 2150], "text": ["For each piece, records an attribute containing a measurement of the difference between the transformed points in the reference geometry and the target geometry\u2019s points.\n        A value of 0 indicates that the extracted transform is a perfect fit."]}], "indent": 4, "text": ["Compute Distortion"], "role": "item", "extent": [1869, 1893], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2176, 2275], "text": ["Specifies the name of the point attribute created when ", {"text": ["Compute Distortion"], "type": "ui"}, " is enabled."]}], "indent": 4, "text": ["Distortion Attribute"], "role": "item", "extent": [2150, 2176], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1150, 1162], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [2307, 2348], "text": ["The rest geometry to transform."]}], "indent": 4, "type": "dt", "extent": [2283, 2307], "text": ["Reference Geometry"]}, {"body": [{"indent": 8, "type": "para", "extent": [2369, 2453], "text": ["The geometry for which to compute a transform from the Reference Geometry."]}], "indent": 4, "type": "dt", "extent": [2348, 2369], "text": ["Target Geometry"]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 1, "text": "Inputs", "role": "section", "extent": [2275, 2283], "container": true, "type": "inputs_section", "id": "inputs"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "extent": [2462, 2491], "text": [{"text": "", "fullpath": "/nodes/sop/xformpieces", "scheme": "Node", "type": "link", "value": "/nodes/sop/xformpieces"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "extent": [2491, 2519], "text": [{"text": "", "fullpath": "/nodes/obj/extractgeo", "scheme": "Node", "type": "link", "value": "/nodes/obj/extractgeo"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "extent": [2519, 2552], "text": [{"text": "", "fullpath": "/nodes/dop/rbdpackedobject", "scheme": "Node", "type": "link", "value": "/nodes/dop/rbdpackedobject"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [2453, 2462], "container": true, "type": "related_section", "id": "related"}], "summary": ["Computes the best-fit transform between two pieces of geometry."], "type": "root", "attrs": {"version": null, "tags": "transform", "namespace": null, "internal": "extracttransform", "context": "sop", "type": "node", "icon": "SOP/extracttransform"}, "title": ["Extract Transform"]}